# Introduction

## a section

### a subsection

This is a book created from markdown and executable code.

See @knuth84 for additional discussion of literate programming.

```{r}
1 + 1
```

:::{#def-at-start}

Here's a definition

:::

Now here's a figure:

```{r}
#| label: fig-plot1
#| fig-cap: "Plot 1"
plot(1:10)
```

Some more text.

#### a subsubsection

```{r}
#| label: fig-plot2
#| fig-cap: "Plot 2"
plot(10:1)
```


## a new section

### a new subsection

```{r}
#| label: fig-plot3
#| fig-cap: "a ggplot figure"

library(ggplot2)
set.seed(1)

sample_df <- data.frame(
  group = factor(rep(letters[1:3], each = 10)),
  value = rnorm(30)
)

group_means_df <- setNames(
  aggregate(value ~ group, sample_df, mean),
  c("group", "group_mean")
)

ggplot(data = sample_df, mapping = aes(x = group, y = value)) +
  geom_point() +
  geom_point(
    mapping = aes(y = group_mean), data = group_means_df,
    colour = 'red', size = 3
  )

```

